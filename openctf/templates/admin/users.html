{% from "templates.html" import render_field, show_breadcrumbs %}
{% extends "layout.html" %}
{% block title %}Manage Users{% endblock %}

{% block content %}
    <div class="section gradient">
        <div class="container">
            <h1>Manage Users</h1>
        </div>
    </div>
    <div class="section">
        <div class="container">
            {{ show_breadcrumbs(breadcrumbs) }}
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <td>ID</td>
                    <td>Username</td>
                    <td>Name</td>
                    <td>Team</td>
                    <td>Quick Actions</td>
                </tr>
                </thead>
                <tbody>
                {% for user in users %}
                    <tr>
                        <td>
                            <a href="{{ url_for("admin.user_manage", uid=user.uid) }}">{{ user.uid }}</a>
                        </td>
                        <td>{{ user.username }}</td>
                        <td>
                            <a href="{{ url_for("users.profile", uid=user.uid) }}">{{ user.name }}</a>
                        </td>
                        <td>{% if user.team %}
                            <a href="{{ url_for("teams.profile", tid=user.tid) }}">{{ user.team.teamname }}</a>{% else %}None{% endif %}
                        </td>
                        <td>
                            <div class="dropdown">
                                <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="userQuickActions{{ user.uid }}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                    Quick Actions
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="userQuickActions{{ user.uid }}">
                                    <li>
                                        <a href="{{ url_for("admin.user_manage", uid=user.uid) }}">Manage</a>
                                        <a href="javascript:void(0);">Email</a>
                                        <a href="javascript:void(0);">Silence</a>
                                        <a href="javascript:void(0);">Ban</a>
                                    </li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <center>
                <ul class="pagination pagination-lg">
                    <li{{ ' class="disabled"' | safe if page == 1 }}>
                        <a href="{{ url_for("admin.users", page=page-1) if page > 1 else "javascript:void(0);" }}" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    {% for i in range(pages) %}
                        <li{{ ' class="active"' | safe if i + 1 == page }}>
                            <a href="



                                    {{ url_for("admin.users", page=i+1) }}">{{ i + 1 }}</a>
                        </li>
                    {% endfor %}
                    <li{{ ' class="disabled"' | safe if page == pages }}>
                        <a href="



                                {{ url_for("admin.users", page=page+1) if page < pages else "javascript:void(0);" }}" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </center>
        </div>
    </div>
{% endblock %}